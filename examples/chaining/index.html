<!DOCTYPE html>
<html>
  <head>
    <title>Modest Maps JS - Chaining Wrapper</title>
    <script type="text/javascript" src="../../modestmaps.js"></script>
    <script type="text/javascript">

function MM(el, provider) {
  if (typeof provider == 'string') {
    provider = new com.modestmaps.TemplatedMapProvider(provider);
  }
  var map = new com.modestmaps.Map(el, provider); 
  return {
    center: function() {
      if (arguments.length == 0) {
        return map.getCenter();
      }
      else if (arguments.length == 1) {
        map.setCenter(arguments[0]);
      }
      else if (arguments.length == 2) {
        map.setCenter(new com.modestmaps.Location(arguments[0],arguments[1]));
      }
      return this;
    }, 
    zoom: function() {
      if (arguments.length == 0) {
        return map.getZoom();
      }
      else if (arguments.length == 1) {
        map.setZoom(arguments[0]);
      }
      return this;
    }
  };
}

window.onload = function() {
  var MM = com.modestmaps;
  var provider = new MM.TemplatedMapProvider('http://tile.openstreetmap.org/{Z}/{X}/{Y}.png');
  var map = new MM.Map('map', provider)
                      .setCenter(new MM.Location(51.5001524, -0.1262362))
                      .setZoom(11);
};

    </script>
    <style type="text/css">
html, body, #map {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  border: 0;
}

    </style>
  </head>
  <body> 
    <div id="map"></div>
  </body>
</html>
